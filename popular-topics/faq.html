<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from discordjs.guide/popular-topics/faq.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Jan 2021 09:05:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frequently asked Questions | Discord.js Guide</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="../favicon.png">
    <meta name="description" content="A guide made by the community of discord.js for its users.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#42b983">
    <meta name="twitter:card" content="summary">
    <meta name="og:title" content="Discord.js Guide">
    <meta name="og:description" content="A guide made by the community of discord.js for its users.">
    <meta name="og:type" content="website">
    <meta name="og:url" content="../index.html">
    <meta name="og:locale" content="en_US">
    <meta name="og:image" content="../meta-image.png">
    <link rel="preload" href="../assets/css/0.styles.c81fdb25.css" as="style"><link rel="preload" href="../assets/js/app.1b16820c.js" as="script"><link rel="preload" href="../assets/js/4.58143105.js" as="script"><link rel="preload" href="../assets/js/52.8aa55e0d.js" as="script"><link rel="preload" href="../assets/js/16.e90c1593.js" as="script"><link rel="preload" href="../assets/js/6.1ed8886a.js" as="script"><link rel="prefetch" href="../assets/js/1.4966f13b.js"><link rel="prefetch" href="../assets/js/10.d9e5e65a.js"><link rel="prefetch" href="../assets/js/11.4d024292.js"><link rel="prefetch" href="../assets/js/12.0ebfb6b5.js"><link rel="prefetch" href="../assets/js/13.ec6ebc85.js"><link rel="prefetch" href="../assets/js/14.e0c1c3e6.js"><link rel="prefetch" href="../assets/js/15.468032d7.js"><link rel="prefetch" href="../assets/js/17.48dc860b.js"><link rel="prefetch" href="../assets/js/18.66fb5b1b.js"><link rel="prefetch" href="../assets/js/19.267ae342.js"><link rel="prefetch" href="../assets/js/20.c083e492.js"><link rel="prefetch" href="../assets/js/21.c20bf682.js"><link rel="prefetch" href="../assets/js/22.549d06f2.js"><link rel="prefetch" href="../assets/js/23.97219136.js"><link rel="prefetch" href="../assets/js/24.597d3784.js"><link rel="prefetch" href="../assets/js/25.e66ea496.js"><link rel="prefetch" href="../assets/js/26.3e94b2e9.js"><link rel="prefetch" href="../assets/js/27.c1f13a28.js"><link rel="prefetch" href="../assets/js/28.7159a662.js"><link rel="prefetch" href="../assets/js/29.d4774ef2.js"><link rel="prefetch" href="../assets/js/30.90995d89.js"><link rel="prefetch" href="../assets/js/31.de2dcdf7.js"><link rel="prefetch" href="../assets/js/32.a19a8a69.js"><link rel="prefetch" href="../assets/js/33.d3547ea6.js"><link rel="prefetch" href="../assets/js/34.999b3eb5.js"><link rel="prefetch" href="../assets/js/35.8165c07f.js"><link rel="prefetch" href="../assets/js/36.2b277f69.js"><link rel="prefetch" href="../assets/js/37.3ea48fb0.js"><link rel="prefetch" href="../assets/js/38.c2159f22.js"><link rel="prefetch" href="../assets/js/39.50884a19.js"><link rel="prefetch" href="../assets/js/40.a8990f37.js"><link rel="prefetch" href="../assets/js/41.701c8a9b.js"><link rel="prefetch" href="../assets/js/42.b84d3fd9.js"><link rel="prefetch" href="../assets/js/43.5faf8a11.js"><link rel="prefetch" href="../assets/js/44.13615e3c.js"><link rel="prefetch" href="../assets/js/45.487383a0.js"><link rel="prefetch" href="../assets/js/46.9ed01b37.js"><link rel="prefetch" href="../assets/js/47.9f485986.js"><link rel="prefetch" href="../assets/js/48.8f87e54d.js"><link rel="prefetch" href="../assets/js/49.03b932fc.js"><link rel="prefetch" href="../assets/js/5.a0132f30.js"><link rel="prefetch" href="../assets/js/50.6ecc158d.js"><link rel="prefetch" href="../assets/js/51.ed256bb5.js"><link rel="prefetch" href="../assets/js/53.b92566e2.js"><link rel="prefetch" href="../assets/js/54.aa72db74.js"><link rel="prefetch" href="../assets/js/55.43db0b13.js"><link rel="prefetch" href="../assets/js/56.99a95047.js"><link rel="prefetch" href="../assets/js/57.36019a3d.js"><link rel="prefetch" href="../assets/js/58.bbb4a297.js"><link rel="prefetch" href="../assets/js/59.83d011b0.js"><link rel="prefetch" href="../assets/js/60.8138be15.js"><link rel="prefetch" href="../assets/js/61.f92820ad.js"><link rel="prefetch" href="../assets/js/62.ee2671f7.js"><link rel="prefetch" href="../assets/js/63.9ec4fce9.js"><link rel="prefetch" href="../assets/js/64.dde77080.js"><link rel="prefetch" href="../assets/js/65.c59bb07d.js"><link rel="prefetch" href="../assets/js/66.37172aa5.js"><link rel="prefetch" href="../assets/js/67.81b25533.js"><link rel="prefetch" href="../assets/js/68.af678c1d.js"><link rel="prefetch" href="../assets/js/7.97abf805.js"><link rel="prefetch" href="../assets/js/8.1ad597e1.js"><link rel="prefetch" href="../assets/js/9.d00e8d4e.js"><link rel="prefetch" href="../assets/js/vendors_docsearch.d31fbf91.js">
    <link rel="stylesheet" href="../assets/css/0.styles.c81fdb25.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../index.html" class="home-link router-link-active"><!----> <span class="site-name">Discord.js Guide</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="../index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="../commando/index.html" class="nav-link">
  Commando
</a></div><div class="nav-item"><a href="https://discord.js.org/#/docs/main/stable/general/welcome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord.js Documentation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/discordjs/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="../index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="../commando/index.html" class="nav-link">
  Commando
</a></div><div class="nav-item"><a href="https://discord.js.org/#/docs/main/stable/general/welcome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord.js Documentation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/discordjs/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../index.html" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="../requesting-more-content.html" class="sidebar-link">Requesting more content</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Installations &amp; Preparations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../preparations/index.html" class="sidebar-link">Installing Node.js and discord.js</a></li><li><a href="../preparations/setting-up-a-linter.html" class="sidebar-link">Setting up a linter</a></li><li><a href="../preparations/setting-up-a-bot-application.html" class="sidebar-link">Setting up a bot application</a></li><li><a href="../preparations/adding-your-bot-to-servers.html" class="sidebar-link">Adding your bot to servers</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Creating Your Bot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../creating-your-bot/index.html" class="sidebar-link">Getting your bot up &amp; running</a></li><li><a href="../creating-your-bot/configuration-files.html" class="sidebar-link">Configuration files</a></li><li><a href="../creating-your-bot/adding-more-commands.html" class="sidebar-link">Adding more commands</a></li><li><a href="../creating-your-bot/commands-with-user-input.html" class="sidebar-link">Commands with user input (a.k.a. &quot;arguments&quot;)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Command Handler</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../command-handling/index.html" class="sidebar-link">Command handling</a></li><li><a href="../command-handling/dynamic-commands.html" class="sidebar-link">Dynamic commands</a></li><li><a href="../command-handling/adding-features.html" class="sidebar-link">Additional features</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Popular Topics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="faq.html" aria-current="page" class="active sidebar-link">Frequently asked Questions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="faq.html#legend" class="sidebar-link">Legend</a></li><li class="sidebar-sub-header"><a href="faq.html#administrative" class="sidebar-link">Administrative</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="faq.html#how-do-i-ban-a-user" class="sidebar-link">How do I ban a user?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-unban-a-user" class="sidebar-link">How do I unban a user?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-kick-a-user" class="sidebar-link">How do I kick a user?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-add-a-role-to-a-guild-member" class="sidebar-link">How do I add a role to a guild member?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-check-if-a-guild-member-has-a-certain-role" class="sidebar-link">How do I check if a guild member has a certain role?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-limit-a-command-to-a-single-user" class="sidebar-link">How do I limit a command to a single user?</a></li></ul></li><li class="sidebar-sub-header"><a href="faq.html#bot-configuration-and-utility" class="sidebar-link">Bot Configuration and Utility</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="faq.html#how-do-i-set-my-bot-s-username" class="sidebar-link">How do I set my bot's username?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-set-my-bot-s-avatar" class="sidebar-link">How do I set my bot's avatar?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-set-my-playing-status" class="sidebar-link">How do I set my playing status?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-set-my-status-to-watching-or-listening-to" class="sidebar-link">How do I set my status to &quot;Watching ...&quot; or &quot;Listening to ...&quot;?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-make-my-bot-display-online-idle-dnd-invisible" class="sidebar-link">How do I make my bot display online/idle/dnd/invisible?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-set-both-status-and-activity-in-one-go" class="sidebar-link">How do I set both status and activity in one go?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-add-a-mention-prefix-to-my-bot" class="sidebar-link">How do I add a mention prefix to my bot?</a></li></ul></li><li class="sidebar-sub-header"><a href="faq.html#miscellaneous" class="sidebar-link">Miscellaneous</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="faq.html#how-do-i-send-a-message-to-a-specific-channel" class="sidebar-link">How do I send a message to a specific channel?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-dm-a-certain-user" class="sidebar-link">How do I DM a certain user?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-mention-a-certain-user-in-a-message" class="sidebar-link">How do I mention a certain user in a message?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-prompt-the-user-for-additional-input" class="sidebar-link">How do I prompt the user for additional input?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-block-a-user-from-using-my-bot" class="sidebar-link">How do I block a user from using my bot?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-react-to-the-message-my-bot-sent" class="sidebar-link">How do I react to the message my bot sent?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-restart-my-bot-with-a-command" class="sidebar-link">How do I restart my bot with a command?</a></li><li class="sidebar-sub-header"><a href="faq.html#what-is-the-difference-between-a-user-and-a-guildmember" class="sidebar-link">What is the difference between a User and a GuildMember?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-find-all-online-members-of-a-guild" class="sidebar-link">How do I find all online members of a guild?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-check-which-role-was-added-removed-and-for-which-member" class="sidebar-link">How do I check which role was added/removed, and for which member?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-to-check-the-bots-ping" class="sidebar-link">How to check the bots ping?</a></li><li class="sidebar-sub-header"><a href="faq.html#how-do-i-play-music-from-youtube" class="sidebar-link">How do I play music from YouTube?</a></li><li class="sidebar-sub-header"><a href="faq.html#why-do-some-emojis-behave-weirdly" class="sidebar-link">Why do some emojis behave weirdly?</a></li></ul></li></ul></li><li><a href="embeds.html" class="sidebar-link">Embeds</a></li><li><a href="errors.html" class="sidebar-link">Errors</a></li><li><a href="permissions.html" class="sidebar-link">Permissions</a></li><li><a href="permissions-extended.html" class="sidebar-link">Permissions (extended)</a></li><li><a href="reactions.html" class="sidebar-link">Reactions</a></li><li><a href="collectors.html" class="sidebar-link">Collectors</a></li><li><a href="partials.html" class="sidebar-link">Partial Structures</a></li><li><a href="intents.html" class="sidebar-link">Gateway Intents</a></li><li><a href="canvas.html" class="sidebar-link">Image manipulation with Canvas</a></li><li><a href="webhooks.html" class="sidebar-link">Webhooks</a></li><li><a href="audit-logs.html" class="sidebar-link">Working with Audit Logs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../miscellaneous/parsing-mention-arguments.html" class="sidebar-link">Parsing mention arguments</a></li><li><a href="../miscellaneous/useful-packages.html" class="sidebar-link">Useful packages</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Databases</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../sequelize/index.html" class="sidebar-link">Storing data with Sequelize</a></li><li><a href="../sequelize/currency.html" class="sidebar-link">Making a Currency System</a></li><li><a href="../keyv/index.html" class="sidebar-link">Storing data with Keyv</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sharding</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../sharding/index.html" class="sidebar-link">Getting started</a></li><li><a href="../sharding/additional-information.html" class="sidebar-link">Additional information</a></li><li><a href="../sharding/extended.html" class="sidebar-link">Extended changes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>OAuth2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../oauth2/index.html" class="sidebar-link">Getting started with OAuth2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Voice</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../voice/index.html" class="sidebar-link">Introduction</a></li><li><a href="../voice/understanding-voice.html" class="sidebar-link">Understanding Voice</a></li><li><a href="../voice/the-basics.html" class="sidebar-link">The Basics</a></li><li><a href="../voice/voice-broadcasts.html" class="sidebar-link">Voice Broadcasts</a></li><li><a href="../voice/optimisation-and-troubleshooting.html" class="sidebar-link">Optimization and Troubleshooting</a></li><li><a href="../voice/receiving-audio.html" class="sidebar-link">Receiving Audio</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Improving Your Dev Environment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../improving-dev-environment/pm2.html" class="sidebar-link">Managing your bot process with PM2</a></li><li><a href="../improving-dev-environment/package-json-scripts.html" class="sidebar-link">Setting up package.json scripts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Additional Information</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../additional-info/notation.html" class="sidebar-link">Understanding notation</a></li><li><a href="../additional-info/es6-syntax.html" class="sidebar-link">ES6 syntax examples</a></li><li><a href="../additional-info/collections.html" class="sidebar-link">Collections</a></li><li><a href="../additional-info/async-await.html" class="sidebar-link">Understanding async/await</a></li><li><a href="../additional-info/rest-api.html" class="sidebar-link">Using a REST API</a></li><li><a href="../additional-info/changes-in-v12.html" class="sidebar-link">Updating from v11 to v12</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frequently-asked-questions"><a href="#frequently-asked-questions" class="header-anchor">#</a> Frequently asked Questions</h1> <h2 id="legend"><a href="#legend" class="header-anchor">#</a> Legend</h2> <ul><li><code>&lt;client&gt;</code> is a placeholder for the Client object, such as <code>const client = new Discord.Client();</code>.</li> <li><code>&lt;message&gt;</code> is a placeholder for the Message object, such as <code>client.on('message', message =&gt; { ... });</code>.</li> <li><code>&lt;guild&gt;</code> is a placeholder for the Guild object, such as <code>&lt;message&gt;.guild</code> or <span style="display:inline-block;"><code>&lt;client&gt;.guilds.cache.get('&lt;id&gt;')</code></span><span style="display:none;"><code>&lt;client&gt;.guilds.get('&lt;id&gt;')</code></span>.</li> <li><code>&lt;voiceChannel&gt;</code> is a placeholder for the VoiceChannel object, such as <span style="display:none;"><code>&lt;message&gt;.member.voiceChannel</code></span><span style="display:inline-block;"><code>&lt;message&gt;.member.voice.channel</code></span></li></ul> <p>For a more detailed explanation on the notations commonly used in this guide, the docs, and the support server, see <a href="../additional-info/notation.html">here</a>.</p> <h2 id="administrative"><a href="#administrative" class="header-anchor">#</a> Administrative</h2> <h3 id="how-do-i-ban-a-user"><a href="#how-do-i-ban-a-user" class="header-anchor">#</a> How do I ban a user?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">ban</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">ban</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <h3 id="how-do-i-unban-a-user"><a href="#how-do-i-unban-a-user" class="header-anchor">#</a> How do I unban a user?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> id <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">unban</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> id <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">unban</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Because you cannot ping a user who isn't in the server, you have to pass in the user id. To do this, we use arguments, represented by <code>args</code> (see <a href="../creating-your-bot/commands-with-user-input/index.html">Commands with user input</a> for more details on this topic).</p></div> <h3 id="how-do-i-kick-a-user"><a href="#how-do-i-kick-a-user" class="header-anchor">#</a> How do I kick a user?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
member<span class="token punctuation">.</span><span class="token function">kick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-add-a-role-to-a-guild-member"><a href="#how-do-i-add-a-role-to-a-guild-member" class="header-anchor">#</a> How do I add a role to a guild member?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> role<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'&lt;role name&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
member<span class="token punctuation">.</span><span class="token function">addRole</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> role<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'&lt;role name&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
member<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <h3 id="how-do-i-check-if-a-guild-member-has-a-certain-role"><a href="#how-do-i-check-if-a-guild-member-has-a-certain-role" class="header-anchor">#</a> How do I check if a guild member has a certain role?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>member<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> role<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'&lt;role name&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>member<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> role<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'&lt;role name&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div></span> <h3 id="how-do-i-limit-a-command-to-a-single-user"><a href="#how-do-i-limit-a-command-to-a-single-user" class="header-anchor">#</a> How do I limit a command to a single user?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'&lt;id&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="bot-configuration-and-utility"><a href="#bot-configuration-and-utility" class="header-anchor">#</a> Bot Configuration and Utility</h2> <h3 id="how-do-i-set-my-bot-s-username"><a href="#how-do-i-set-my-bot-s-username" class="header-anchor">#</a> How do I set my bot's username?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">'&lt;username&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-set-my-bot-s-avatar"><a href="#how-do-i-set-my-bot-s-avatar" class="header-anchor">#</a> How do I set my bot's avatar?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setAvatar</span><span class="token punctuation">(</span><span class="token string">'&lt;url or path&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-set-my-playing-status"><a href="#how-do-i-set-my-playing-status" class="header-anchor">#</a> How do I set my playing status?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setActivity</span><span class="token punctuation">(</span><span class="token string">'&lt;activity&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-set-my-status-to-watching-or-listening-to"><a href="#how-do-i-set-my-status-to-watching-or-listening-to" class="header-anchor">#</a> How do I set my status to &quot;Watching ...&quot; or &quot;Listening to ...&quot;?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setActivity</span><span class="token punctuation">(</span><span class="token string">'&lt;activity&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'WATCHING'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setActivity</span><span class="token punctuation">(</span><span class="token string">'&lt;activity&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'LISTENING'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><span style="display:none;"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you would like to set your activity upon startup, you must place the <code>&lt;client&gt;.user.setActivity()</code> method call inside a <code>ready</code> event listener (<code>&lt;client&gt;.on('ready', () =&gt; {});</code>).</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>&lt;client&gt;.user.setActivity()</code> will only work in v11.3 and above. You can still use <code>&lt;client&gt;.user.setGame()</code>, but it is deprecated as of v11.3, and has been removed in v12.</p></div></span> <span style="display:block;"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you would like to set your activity upon startup, you can use the <code>ClientOptions</code> object to set the appropriate <code>Presence</code> data.</p></div></span> <h3 id="how-do-i-make-my-bot-display-online-idle-dnd-invisible"><a href="#how-do-i-make-my-bot-display-online-idle-dnd-invisible" class="header-anchor">#</a> How do I make my bot display online/idle/dnd/invisible?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">'online'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">'idle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">'dnd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">'invisible'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-set-both-status-and-activity-in-one-go"><a href="#how-do-i-set-both-status-and-activity-in-one-go" class="header-anchor">#</a> How do I set both status and activity in one go?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">setPresence</span><span class="token punctuation">(</span><span class="token punctuation">{</span> activity<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'&lt;activity&gt;'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token string">'idle'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><span style="display:none;"><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>the <code>activity</code> key will only work in v11.3 and above. You can still use the <code>game</code> key instead, but it is deprecated as of v11.3, and has been removed in v12.</p></div></span> <h3 id="how-do-i-add-a-mention-prefix-to-my-bot"><a href="#how-do-i-add-a-mention-prefix-to-my-bot" class="header-anchor">#</a> How do I add a mention prefix to my bot?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Discord <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'discord.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> prefix <span class="token operator">=</span> <span class="token string">'!'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">escapeRegex</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[.*+?^${}()|[\]\\]/g</span><span class="token punctuation">,</span> <span class="token string">'\\$&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">message</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> prefixRegex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">^(&lt;@!?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>client<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;|</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escapeRegex</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)\\s*</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prefixRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> matchedPrefix<span class="token punctuation">]</span> <span class="token operator">=</span> message<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>prefixRegex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> args <span class="token operator">=</span> message<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>matchedPrefix<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/ +/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> command <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'ping'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Pong!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'prefix'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">you can either ping me or use \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` as my prefix.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">'your-token-goes-here'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <code>escapeRegex</code> function is used to convert special characters into literal characters by escaping them, so that they don't terminate the pattern within the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">Regular Expression<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>!</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you aren't familiar with the syntax used on the <code>const [, matchedPrefix] = ...</code> line, that's called &quot;array destructuring&quot;. Feel free to read more about it in the <a href="../additional-info/es6-syntax.html#array-destructuring">ES6 syntax</a> guide!</p></div> <h2 id="miscellaneous"><a href="#miscellaneous" class="header-anchor">#</a> Miscellaneous</h2> <h3 id="how-do-i-send-a-message-to-a-specific-channel"><a href="#how-do-i-send-a-message-to-a-specific-channel" class="header-anchor">#</a> How do I send a message to a specific channel?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> channel <span class="token operator">=</span> <span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>channels<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;id&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;content&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> channel <span class="token operator">=</span> <span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>channels<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;id&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;content&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <h3 id="how-do-i-dm-a-certain-user"><a href="#how-do-i-dm-a-certain-user" class="header-anchor">#</a> How do I DM a certain user?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;id&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;content&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>users<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;id&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;content&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to DM the user who sent the message, you can use <code>&lt;message&gt;.author.send()</code>.</p></div> <h3 id="how-do-i-mention-a-certain-user-in-a-message"><a href="#how-do-i-mention-a-certain-user-in-a-message" class="header-anchor">#</a> How do I mention a certain user in a message?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hi, &lt;@user id&gt;.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Mentions in embeds may resolve correctly in embed description and field values but will never notify the user. Other areas do not support mentions at all.</p></div> <h3 id="how-do-i-prompt-the-user-for-additional-input"><a href="#how-do-i-prompt-the-user-for-additional-input" class="header-anchor">#</a> How do I prompt the user for additional input?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Please enter more input.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">filter</span> <span class="token operator">=</span> <span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token operator">===</span> m<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

	<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">awaitMessages</span><span class="token punctuation">(</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span> time<span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span> maxMatches<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">messages</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You've entered: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>messages<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'You did not enter any input!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Please enter more input.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">filter</span> <span class="token operator">=</span> <span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token operator">===</span> m<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

	<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">awaitMessages</span><span class="token punctuation">(</span>filter<span class="token punctuation">,</span> <span class="token punctuation">{</span> time<span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">messages</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You've entered: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>messages<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'You did not enter any input!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to learn more about this syntax or reaction collectors, check out <a href="collectors.html">this dedicated guide page for collectors</a>!</p></div> <h3 id="how-do-i-block-a-user-from-using-my-bot"><a href="#how-do-i-block-a-user-from-using-my-bot" class="header-anchor">#</a> How do I block a user from using my bot?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> blockedUsers <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> <span class="token string">'id2'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">message</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>blockedUsers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You do not need to have a constant local variable like <code>blockedUsers</code> above. If you have a database system which you use to store IDs of blocked users, you can query the database instead:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token parameter">message</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> blockedUsers <span class="token operator">=</span> <span class="token keyword">await</span> database<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'SELECT user_id FROM blocked_users;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>blockedUsers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that this is just a showcase of how such a check could be done.</p></div> <h3 id="how-do-i-react-to-the-message-my-bot-sent"><a href="#how-do-i-react-to-the-message-my-bot-sent" class="header-anchor">#</a> How do I react to the message my bot sent?</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'My message to react to.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">sentMessage</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	sentMessage<span class="token punctuation">.</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token string">'👍'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	sentMessage<span class="token punctuation">.</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token string">'&lt;emoji id&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to learn more about reactions, check out <a href="reactions.html">this dedicated guide on reactions</a>!</p></div> <h3 id="how-do-i-restart-my-bot-with-a-command"><a href="#how-do-i-restart-my-bot-with-a-command" class="header-anchor">#</a> How do I restart my bot with a command?</h3> <div class="language-js extra-class"><pre class="language-js"><code>process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>process.exit()</code> will only kill your Node process, but when using <a href="http://pm2.keymetrics.io/" target="_blank" rel="noopener noreferrer">PM2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, it will restart the process whenever it gets killed. You can read our guide on PM2 <a href="../improving-dev-environment/pm2.html">here</a>.</p></div> <h3 id="what-is-the-difference-between-a-user-and-a-guildmember"><a href="#what-is-the-difference-between-a-user-and-a-guildmember" class="header-anchor">#</a> What is the difference between a User and a GuildMember?</h3> <p>A User represents a global Discord user and a GuildMember represents a Discord user on a specific server. That means only GuildMembers can have permissions, roles, and nicknames, for example, because all of these things are server-bound information that could be different on each server that user is in.</p> <h3 id="how-do-i-find-all-online-members-of-a-guild"><a href="#how-do-i-find-all-online-members-of-a-guild" class="header-anchor">#</a> How do I find all online members of a guild?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// First we use fetchMembers to make sure all members are cached</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">fetchMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">fetchedGuild</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> totalOnline <span class="token operator">=</span> fetchedGuild<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">member</span> <span class="token operator">=&gt;</span> member<span class="token punctuation">.</span>presence<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'online'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// We now have a collection with all online member objects in the totalOnline variable</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">There are currently </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>totalOnline<span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> members online in this guild!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// First we use guild.members.fetch to make sure all members are cached</span>
<span class="token operator">&lt;</span>guild<span class="token operator">&gt;</span><span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">fetchedMembers</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> totalOnline <span class="token operator">=</span> fetchedMembers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">member</span> <span class="token operator">=&gt;</span> member<span class="token punctuation">.</span>presence<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'online'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// We now have a collection with all online member objects in the totalOnline variable</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">There are currently </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>totalOnline<span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> members online in this guild!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <h3 id="how-do-i-check-which-role-was-added-removed-and-for-which-member"><a href="#how-do-i-check-which-role-was-added-removed-and-for-which-member" class="header-anchor">#</a> How do I check which role was added/removed, and for which member?</h3> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// We start by declaring a guildMemberUpdate listener</span>
<span class="token comment">// This code should be placed outside of any other listener callbacks to prevent listener nesting</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'guildMemberUpdate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">oldMember<span class="token punctuation">,</span> newMember</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// If the role(s) are present on the old member object but no longer on the new one (i.e role(s) were removed)</span>
	<span class="token keyword">const</span> removedRoles <span class="token operator">=</span> oldMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>newMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>removedRoles<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The roles </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>removedRoles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> were removed from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldMember<span class="token punctuation">.</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// If the role(s) are present on the new member object but are not on the old one (i.e role(s) were added)</span>
	<span class="token keyword">const</span> addedRoles <span class="token operator">=</span> newMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>oldMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>addedRoles<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The roles </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addedRoles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> were added to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldMember<span class="token punctuation">.</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// We start by declaring a guildMemberUpdate listener</span>
<span class="token comment">// This code should be placed outside of any other listener callbacks to prevent listener nesting</span>
<span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'guildMemberUpdate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">oldMember<span class="token punctuation">,</span> newMember</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// If the role(s) are present on the old member object but no longer on the new one (i.e role(s) were removed)</span>
	<span class="token keyword">const</span> removedRoles <span class="token operator">=</span> oldMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>newMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>removedRoles<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The roles </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>removedRoles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> were removed from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldMember<span class="token punctuation">.</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// If the role(s) are present on the new member object but are not on the old one (i.e role(s) were added)</span>
	<span class="token keyword">const</span> addedRoles <span class="token operator">=</span> newMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>oldMember<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>addedRoles<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The roles </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addedRoles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> were added to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldMember<span class="token punctuation">.</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <h3 id="how-to-check-the-bots-ping"><a href="#how-to-check-the-bots-ping" class="header-anchor">#</a> How to check the bots ping?</h3> <p>There are two common measurements for bot pings. The first, <strong>Websocket heartbeat</strong>, is the average interval of a regularly sent signal indicating the healthy operation of the websocket connection the library receives events over:</p> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Websocket heartbeat: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>ping<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Websocket heartbeat: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">&lt;</span>client<span class="token operator">&gt;</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span>ping<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>A specific shards heartbeat can be found on the WebSocketShard instance, accessible at <code>&lt;client&gt;.ws.shards</code> &gt; <code>.ping</code>.</p></div></span> <p>The second, <strong>Roundtrip Latency</strong>, describes the amount of time a full API roundtrip (from creation of the command message to creation of the response message) takes. We then edit the response to the respective value in order to avoid needing to send yet another message:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Pinging...'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">sent</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    sent<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Roundtrip latency: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sent<span class="token punctuation">.</span>createdTimestamp <span class="token operator">-</span> <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span><span class="token punctuation">.</span>createdTimestamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="how-do-i-play-music-from-youtube"><a href="#how-do-i-play-music-from-youtube" class="header-anchor">#</a> How do I play music from YouTube?</h3> <p>For this to work you need to have <code>ytdl-core</code> installed.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save ytdl-core
</code></pre></div><p>Additionally you may need the following:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save @discordjs/opus <span class="token comment"># opus engine (if missing)</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ffmpeg <span class="token comment"># ffmpeg debian/ubuntu</span>
<span class="token function">npm</span> <span class="token function">install</span> ffmpeg-static <span class="token comment"># ffmpeg windows</span>
</code></pre></div><span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">const</span> ytdl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ytdl-core'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>voiceChannel<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">connection</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> stream <span class="token operator">=</span> <span class="token function">ytdl</span><span class="token punctuation">(</span><span class="token string">'&lt;youtubelink&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filter<span class="token operator">:</span> <span class="token string">'audioonly'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> dispatcher <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">playStream</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	dispatcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> voiceChannel<span class="token punctuation">.</span><span class="token function">leave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">const</span> ytdl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ytdl-core'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>voiceChannel<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">connection</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> stream <span class="token operator">=</span> <span class="token function">ytdl</span><span class="token punctuation">(</span><span class="token string">'&lt;youtubelink&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filter<span class="token operator">:</span> <span class="token string">'audioonly'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> dispatcher <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	dispatcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'finish'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> voiceChannel<span class="token punctuation">.</span><span class="token function">leave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div></span> <h3 id="why-do-some-emojis-behave-weirdly"><a href="#why-do-some-emojis-behave-weirdly" class="header-anchor">#</a> Why do some emojis behave weirdly?</h3> <p>If you've tried using <a href="reactions.html#unicode-emojis">the usual method of retrieving unicode emojis</a>, you may have noticed that some characters don't provide the expected results. Here's a short snippet that'll help with that issue. You can toss this into a file of its own and use it anywhere you need! Alternatively feel free to simply copy-paste the characters from below:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// emojiCharacters.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	a<span class="token operator">:</span> <span class="token string">'🇦'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">'🇧'</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token string">'🇨'</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token string">'🇩'</span><span class="token punctuation">,</span>
	e<span class="token operator">:</span> <span class="token string">'🇪'</span><span class="token punctuation">,</span> f<span class="token operator">:</span> <span class="token string">'🇫'</span><span class="token punctuation">,</span> g<span class="token operator">:</span> <span class="token string">'🇬'</span><span class="token punctuation">,</span> h<span class="token operator">:</span> <span class="token string">'🇭'</span><span class="token punctuation">,</span>
	i<span class="token operator">:</span> <span class="token string">'🇮'</span><span class="token punctuation">,</span> j<span class="token operator">:</span> <span class="token string">'🇯'</span><span class="token punctuation">,</span> k<span class="token operator">:</span> <span class="token string">'🇰'</span><span class="token punctuation">,</span> l<span class="token operator">:</span> <span class="token string">'🇱'</span><span class="token punctuation">,</span>
	m<span class="token operator">:</span> <span class="token string">'🇲'</span><span class="token punctuation">,</span> n<span class="token operator">:</span> <span class="token string">'🇳'</span><span class="token punctuation">,</span> o<span class="token operator">:</span> <span class="token string">'🇴'</span><span class="token punctuation">,</span> p<span class="token operator">:</span> <span class="token string">'🇵'</span><span class="token punctuation">,</span>
	q<span class="token operator">:</span> <span class="token string">'🇶'</span><span class="token punctuation">,</span> r<span class="token operator">:</span> <span class="token string">'🇷'</span><span class="token punctuation">,</span> s<span class="token operator">:</span> <span class="token string">'🇸'</span><span class="token punctuation">,</span> t<span class="token operator">:</span> <span class="token string">'🇹'</span><span class="token punctuation">,</span>
	u<span class="token operator">:</span> <span class="token string">'🇺'</span><span class="token punctuation">,</span> v<span class="token operator">:</span> <span class="token string">'🇻'</span><span class="token punctuation">,</span> w<span class="token operator">:</span> <span class="token string">'🇼'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token string">'🇽'</span><span class="token punctuation">,</span>
	y<span class="token operator">:</span> <span class="token string">'🇾'</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token string">'🇿'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'0️⃣'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'1️⃣'</span><span class="token punctuation">,</span>
	<span class="token number">2</span><span class="token operator">:</span> <span class="token string">'2️⃣'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">'3️⃣'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token string">'4️⃣'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span> <span class="token string">'5️⃣'</span><span class="token punctuation">,</span>
	<span class="token number">6</span><span class="token operator">:</span> <span class="token string">'6️⃣'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">'7️⃣'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">:</span> <span class="token string">'8️⃣'</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">:</span> <span class="token string">'9️⃣'</span><span class="token punctuation">,</span>
	<span class="token number">10</span><span class="token operator">:</span> <span class="token string">'🔟'</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token operator">:</span> <span class="token string">'#️⃣'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token operator">:</span> <span class="token string">'*️⃣'</span><span class="token punctuation">,</span>
	<span class="token string">'!'</span><span class="token operator">:</span> <span class="token string">'❗'</span><span class="token punctuation">,</span> <span class="token string">'?'</span><span class="token operator">:</span> <span class="token string">'❓'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">const</span> emojiCharacters <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./emojiCharacters'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emojiCharacters<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🇦</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emojiCharacters<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🔟</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emojiCharacters<span class="token punctuation">[</span><span class="token string">'!'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ❗</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>On Windows, you may be able to use the <code>Win + .</code> keyboard shortcut to open up an emoji picker can be used for quick, easy access to all the unicode emojis available to you. Some of the emojis listed above may not be represented there, though (e.g the 0-9 emojis).</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/discordjs/guide/edit/master/guide/popular-topics/faq.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/27/2020, 8:28:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="../command-handling/adding-features.html" class="prev">
        Additional features
      </a></span> <span class="next"><a href="embeds.html">
        Embeds
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="../assets/js/app.1b16820c.js" defer></script><script src="../assets/js/4.58143105.js" defer></script><script src="../assets/js/52.8aa55e0d.js" defer></script><script src="../assets/js/16.e90c1593.js" defer></script><script src="../assets/js/6.1ed8886a.js" defer></script>
  </body>

<!-- Mirrored from discordjs.guide/popular-topics/faq.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Jan 2021 09:05:00 GMT -->
</html>

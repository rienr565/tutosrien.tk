(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{451:function(t,e,s){"use strict";s.r(e);var a=s(5),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("branch",{attrs:{version:"11.x"}},[s("p",[t._v("The Discord.js voice system allows your bot to join voice channels and play audio. This guide will teach you how to make simple music bots, and tips and tricks to optimize performance!")]),t._v(" "),s("p",[t._v("This voice guide is written for Discord.js v12, which features an improved audio system. Much of the example code in the voice guide is unsuitable for v11 and below - to access this content, please update Discord.js to v12!")])]),t._v(" "),s("branch",{attrs:{version:"12.x"}},[s("p",[t._v('"Voice" refers to the ability of a bot to send audio in voice channels. Discord.js makes it easy for you to get up and running with voice!')]),t._v(" "),s("h2",{attrs:{id:"quick-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-example"}},[t._v("#")]),t._v(" Quick example")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("voiceChannel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" connection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" voiceChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconnection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio.mp3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"installing-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-dependencies"}},[t._v("#")]),t._v(" Installing dependencies")]),t._v(" "),s("p",[t._v("At the bare minimum, you'll need:")]),t._v(" "),s("ul",[s("li",[t._v("An Opus library:\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/discordjs/opus",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@discordjs/opus")]),s("OutboundLink")],1),t._v(" (best performance)")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/Rantanen/node-opus/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("node-opus")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/abalabahaha/opusscript/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("opusscript")]),s("OutboundLink")],1)])])])]),t._v(" "),s("p",[t._v("You may also choose to install the following dependencies.")]),t._v(" "),s("ul",[s("li",[t._v("FFmpeg (recommended) â€“ allows you to play a range of media (e.g. MP3s).\n"),s("ul",[s("li",[s("strong",[t._v("This guide will assume you have installed FFmpeg.")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("ffmpeg")]),s("OutboundLink")],1),t._v(" - install and add to your system environment")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/ffmpeg-static",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("ffmpeg-static")]),s("OutboundLink")],1),t._v(" - to install FFmpeg via npm")])])]),t._v(" "),s("li",[t._v("Faster encryption packages\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/sodium",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("sodium")]),s("OutboundLink")],1),t._v(" (best performance)")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/libsodium-wrappers",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("libsodium-wrappers")]),s("OutboundLink")],1)])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Outside a development environment, it is recommended for you to use "),s("code",[t._v("@discordjs/opus")]),t._v(" and "),s("code",[t._v("sodium")]),t._v(" to improve performance and improve the stability of audio playback!")]),t._v(" "),s("p",[t._v("If you're struggling to install these dependencies, make sure you have build tools installed first. On Windows, this is as easy as running "),s("code",[t._v("npm install --global --production --vs2015 --add-python-to-path windows-build-tools")]),t._v("!")])])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);
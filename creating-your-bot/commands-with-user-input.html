<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from discordjs.guide/creating-your-bot/commands-with-user-input.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Jan 2021 09:04:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Commands with user input (a.k.a. &quot;arguments&quot;) | Discord.js Guide</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="../favicon.png">
    <meta name="description" content="A guide made by the community of discord.js for its users.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#42b983">
    <meta name="twitter:card" content="summary">
    <meta name="og:title" content="Discord.js Guide">
    <meta name="og:description" content="A guide made by the community of discord.js for its users.">
    <meta name="og:type" content="website">
    <meta name="og:url" content="../index.html">
    <meta name="og:locale" content="en_US">
    <meta name="og:image" content="../meta-image.png">
    <link rel="preload" href="../assets/css/0.styles.c81fdb25.css" as="style"><link rel="preload" href="../assets/js/app.1b16820c.js" as="script"><link rel="preload" href="../assets/js/4.58143105.js" as="script"><link rel="preload" href="../assets/js/42.b84d3fd9.js" as="script"><link rel="preload" href="../assets/js/16.e90c1593.js" as="script"><link rel="preload" href="../assets/js/22.549d06f2.js" as="script"><link rel="preload" href="../assets/js/6.1ed8886a.js" as="script"><link rel="prefetch" href="../assets/js/1.4966f13b.js"><link rel="prefetch" href="../assets/js/10.d9e5e65a.js"><link rel="prefetch" href="../assets/js/11.4d024292.js"><link rel="prefetch" href="../assets/js/12.0ebfb6b5.js"><link rel="prefetch" href="../assets/js/13.ec6ebc85.js"><link rel="prefetch" href="../assets/js/14.e0c1c3e6.js"><link rel="prefetch" href="../assets/js/15.468032d7.js"><link rel="prefetch" href="../assets/js/17.48dc860b.js"><link rel="prefetch" href="../assets/js/18.66fb5b1b.js"><link rel="prefetch" href="../assets/js/19.267ae342.js"><link rel="prefetch" href="../assets/js/20.c083e492.js"><link rel="prefetch" href="../assets/js/21.c20bf682.js"><link rel="prefetch" href="../assets/js/23.97219136.js"><link rel="prefetch" href="../assets/js/24.597d3784.js"><link rel="prefetch" href="../assets/js/25.e66ea496.js"><link rel="prefetch" href="../assets/js/26.3e94b2e9.js"><link rel="prefetch" href="../assets/js/27.c1f13a28.js"><link rel="prefetch" href="../assets/js/28.7159a662.js"><link rel="prefetch" href="../assets/js/29.d4774ef2.js"><link rel="prefetch" href="../assets/js/30.90995d89.js"><link rel="prefetch" href="../assets/js/31.de2dcdf7.js"><link rel="prefetch" href="../assets/js/32.a19a8a69.js"><link rel="prefetch" href="../assets/js/33.d3547ea6.js"><link rel="prefetch" href="../assets/js/34.999b3eb5.js"><link rel="prefetch" href="../assets/js/35.8165c07f.js"><link rel="prefetch" href="../assets/js/36.2b277f69.js"><link rel="prefetch" href="../assets/js/37.3ea48fb0.js"><link rel="prefetch" href="../assets/js/38.c2159f22.js"><link rel="prefetch" href="../assets/js/39.50884a19.js"><link rel="prefetch" href="../assets/js/40.a8990f37.js"><link rel="prefetch" href="../assets/js/41.701c8a9b.js"><link rel="prefetch" href="../assets/js/43.5faf8a11.js"><link rel="prefetch" href="../assets/js/44.13615e3c.js"><link rel="prefetch" href="../assets/js/45.487383a0.js"><link rel="prefetch" href="../assets/js/46.9ed01b37.js"><link rel="prefetch" href="../assets/js/47.9f485986.js"><link rel="prefetch" href="../assets/js/48.8f87e54d.js"><link rel="prefetch" href="../assets/js/49.03b932fc.js"><link rel="prefetch" href="../assets/js/5.a0132f30.js"><link rel="prefetch" href="../assets/js/50.6ecc158d.js"><link rel="prefetch" href="../assets/js/51.ed256bb5.js"><link rel="prefetch" href="../assets/js/52.8aa55e0d.js"><link rel="prefetch" href="../assets/js/53.b92566e2.js"><link rel="prefetch" href="../assets/js/54.aa72db74.js"><link rel="prefetch" href="../assets/js/55.43db0b13.js"><link rel="prefetch" href="../assets/js/56.99a95047.js"><link rel="prefetch" href="../assets/js/57.36019a3d.js"><link rel="prefetch" href="../assets/js/58.bbb4a297.js"><link rel="prefetch" href="../assets/js/59.83d011b0.js"><link rel="prefetch" href="../assets/js/60.8138be15.js"><link rel="prefetch" href="../assets/js/61.f92820ad.js"><link rel="prefetch" href="../assets/js/62.ee2671f7.js"><link rel="prefetch" href="../assets/js/63.9ec4fce9.js"><link rel="prefetch" href="../assets/js/64.dde77080.js"><link rel="prefetch" href="../assets/js/65.c59bb07d.js"><link rel="prefetch" href="../assets/js/66.37172aa5.js"><link rel="prefetch" href="../assets/js/67.81b25533.js"><link rel="prefetch" href="../assets/js/68.af678c1d.js"><link rel="prefetch" href="../assets/js/7.97abf805.js"><link rel="prefetch" href="../assets/js/8.1ad597e1.js"><link rel="prefetch" href="../assets/js/9.d00e8d4e.js"><link rel="prefetch" href="../assets/js/vendors_docsearch.d31fbf91.js">
    <link rel="stylesheet" href="../assets/css/0.styles.c81fdb25.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../index.html" class="home-link router-link-active"><!----> <span class="site-name">Discord.js Guide</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="../index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="../commando/index.html" class="nav-link">
  Commando
</a></div><div class="nav-item"><a href="https://discord.js.org/#/docs/main/stable/general/welcome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord.js Documentation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/discordjs/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="../index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="../commando/index.html" class="nav-link">
  Commando
</a></div><div class="nav-item"><a href="https://discord.js.org/#/docs/main/stable/general/welcome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord.js Documentation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/discordjs/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../index.html" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="../requesting-more-content.html" class="sidebar-link">Requesting more content</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Installations &amp; Preparations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../preparations/index.html" class="sidebar-link">Installing Node.js and discord.js</a></li><li><a href="../preparations/setting-up-a-linter.html" class="sidebar-link">Setting up a linter</a></li><li><a href="../preparations/setting-up-a-bot-application.html" class="sidebar-link">Setting up a bot application</a></li><li><a href="../preparations/adding-your-bot-to-servers.html" class="sidebar-link">Adding your bot to servers</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Creating Your Bot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="index.html" aria-current="page" class="sidebar-link">Getting your bot up &amp; running</a></li><li><a href="configuration-files.html" class="sidebar-link">Configuration files</a></li><li><a href="adding-more-commands.html" class="sidebar-link">Adding more commands</a></li><li><a href="commands-with-user-input.html" aria-current="page" class="active sidebar-link">Commands with user input (a.k.a. &quot;arguments&quot;)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="commands-with-user-input.html#basic-arguments" class="sidebar-link">Basic arguments</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="commands-with-user-input.html#caveats" class="sidebar-link">Caveats</a></li></ul></li><li class="sidebar-sub-header"><a href="commands-with-user-input.html#common-situations-with-arguments" class="sidebar-link">Common situations with arguments</a></li><li class="sidebar-sub-header"><a href="commands-with-user-input.html#mentions" class="sidebar-link">Mentions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="commands-with-user-input.html#working-with-multiple-mentions" class="sidebar-link">Working with multiple mentions</a></li></ul></li><li class="sidebar-sub-header"><a href="commands-with-user-input.html#number-ranges" class="sidebar-link">Number ranges</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="commands-with-user-input.html#caveats-2" class="sidebar-link">Caveats</a></li></ul></li><li class="sidebar-sub-header"><a href="commands-with-user-input.html#resulting-code" class="sidebar-link">Resulting code</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Command Handler</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../command-handling/index.html" class="sidebar-link">Command handling</a></li><li><a href="../command-handling/dynamic-commands.html" class="sidebar-link">Dynamic commands</a></li><li><a href="../command-handling/adding-features.html" class="sidebar-link">Additional features</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Popular Topics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../popular-topics/faq.html" class="sidebar-link">Frequently asked Questions</a></li><li><a href="../popular-topics/embeds.html" class="sidebar-link">Embeds</a></li><li><a href="../popular-topics/errors.html" class="sidebar-link">Errors</a></li><li><a href="../popular-topics/permissions.html" class="sidebar-link">Permissions</a></li><li><a href="../popular-topics/permissions-extended.html" class="sidebar-link">Permissions (extended)</a></li><li><a href="../popular-topics/reactions.html" class="sidebar-link">Reactions</a></li><li><a href="../popular-topics/collectors.html" class="sidebar-link">Collectors</a></li><li><a href="../popular-topics/partials.html" class="sidebar-link">Partial Structures</a></li><li><a href="../popular-topics/intents.html" class="sidebar-link">Gateway Intents</a></li><li><a href="../popular-topics/canvas.html" class="sidebar-link">Image manipulation with Canvas</a></li><li><a href="../popular-topics/webhooks.html" class="sidebar-link">Webhooks</a></li><li><a href="../popular-topics/audit-logs.html" class="sidebar-link">Working with Audit Logs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../miscellaneous/parsing-mention-arguments.html" class="sidebar-link">Parsing mention arguments</a></li><li><a href="../miscellaneous/useful-packages.html" class="sidebar-link">Useful packages</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Databases</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../sequelize/index.html" class="sidebar-link">Storing data with Sequelize</a></li><li><a href="../sequelize/currency.html" class="sidebar-link">Making a Currency System</a></li><li><a href="../keyv/index.html" class="sidebar-link">Storing data with Keyv</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sharding</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../sharding/index.html" class="sidebar-link">Getting started</a></li><li><a href="../sharding/additional-information.html" class="sidebar-link">Additional information</a></li><li><a href="../sharding/extended.html" class="sidebar-link">Extended changes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>OAuth2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../oauth2/index.html" class="sidebar-link">Getting started with OAuth2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Voice</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../voice/index.html" class="sidebar-link">Introduction</a></li><li><a href="../voice/understanding-voice.html" class="sidebar-link">Understanding Voice</a></li><li><a href="../voice/the-basics.html" class="sidebar-link">The Basics</a></li><li><a href="../voice/voice-broadcasts.html" class="sidebar-link">Voice Broadcasts</a></li><li><a href="../voice/optimisation-and-troubleshooting.html" class="sidebar-link">Optimization and Troubleshooting</a></li><li><a href="../voice/receiving-audio.html" class="sidebar-link">Receiving Audio</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Improving Your Dev Environment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../improving-dev-environment/pm2.html" class="sidebar-link">Managing your bot process with PM2</a></li><li><a href="../improving-dev-environment/package-json-scripts.html" class="sidebar-link">Setting up package.json scripts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Additional Information</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../additional-info/notation.html" class="sidebar-link">Understanding notation</a></li><li><a href="../additional-info/es6-syntax.html" class="sidebar-link">ES6 syntax examples</a></li><li><a href="../additional-info/collections.html" class="sidebar-link">Collections</a></li><li><a href="../additional-info/async-await.html" class="sidebar-link">Understanding async/await</a></li><li><a href="../additional-info/rest-api.html" class="sidebar-link">Using a REST API</a></li><li><a href="../additional-info/changes-in-v12.html" class="sidebar-link">Updating from v11 to v12</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="commands-with-user-input-a-k-a-arguments"><a href="#commands-with-user-input-a-k-a-arguments" class="header-anchor">#</a> Commands with user input (a.k.a. &quot;arguments&quot;)</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This page is a follow-up and bases its code off of <a href="adding-more-commands.html">the previous page</a>.</p></div> <p>Sometimes you'll want to determine the result of a command depending on user input. It's a very common case with a very simple solution. This section will teach you how to extract user input from a message and use it in your code. Generally, you'll hear other people refer to this as &quot;arguments&quot;, and you should refer to them as that as well.</p> <h2 id="basic-arguments"><a href="#basic-arguments" class="header-anchor">#</a> Basic arguments</h2> <p>We'll actually be tackling 2 things at once here. Things will be explained along the way, so don't worry if you don't understand immediately.</p> <p>Go to your main bot file and find the <code>client.on('message', ...)</code> bit. Add the following block of code at the top of this event listeners callback function (the part we replaced with <code>...</code> here).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// client.on('message', message =&gt; {</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span> <span class="token operator">||</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>bot<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> args <span class="token operator">=</span> message<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>prefix<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> command <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rest of your code</span>
</code></pre></div><ol><li>If the message either doesn't start with the prefix or was sent by a bot, exit early.</li> <li>Create an <code>args</code> variable that slices off the prefix entirely, removes the leftover whitespaces and then splits it into an array by spaces.</li> <li>Create a <code>command</code> variable by calling <code>args.shift()</code>, which will take the first element in array and return it while also removing it from the original array (so that you don't have the command name string inside the <code>args</code> array).</li></ol> <p>Hopefully that's a bit clearer, if there was any confusion. Let's create a quick command to check out the result of our new addition:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// using the new `command` variable, this makes it easier to manage!</span>
<span class="token comment">// you can switch your other commands to this format as well</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'args-info'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You didn't provide any arguments, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Command name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>command<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\nArguments: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If you try it out, you'll get something like this:</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!args-info here are my arguments
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		Command name: args-info <br>
		Arguments: here,are,my,arguments
	 <!----></div> </div></div></div> <p>Looks good! Don't worry about the comma separation; that's the expected output when trying to send an array as a string.</p> <p>Now that you have an array of arguments, you can interact with it accordingly! Try out this small addition to the command:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'args-info'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You didn't provide any arguments, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">First argument: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>So if the first argument provided is equal to &quot;foo&quot;, then send back &quot;bar&quot;. Otherwise, just send back the argument the user provided.</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!args-info foo
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		bar
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!args-info not-foo
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		First argument: not-foo
	 <!----></div> </div></div></div> <h3 id="caveats"><a href="#caveats" class="header-anchor">#</a> Caveats</h3> <p>Currently, you're using <code>.split(' ')</code> to split the command arguments. However, there's actually a slight issue with this. As is, it'll split the string by each and every space. Well, what happens if someone accidentally (or even purposely) adds additional spaces? Here's what:</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!args-info     here    are    my    arguments
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		Command name: args-info <br>
		Arguments: here,,,,,are,,,,,my,,,,,,arguments <br>
		Argument length: 20
	 <!----></div> </div></div></div> <p>If you've never done something like this before, this probably isn't what you'd expect, right? Thankfully, there's a simple solution for this issue. The red line is what to remove, and the green line is what to replace it with.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const args = message.content.slice(prefix.length).trim().split(' ');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const args = message.content.slice(prefix.length).trim().split(/ +/);
</span></span></code></pre></div><div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!args-info     here    are    my    arguments
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		Command name: args-info <br>
		Arguments: here,are,my,arguments <br>
		Argument length: 4
	 <!----></div> </div></div></div> <p>Awesome! Nothing to worry in that regard about now. You're now using something called a &quot;regular expression&quot; (commonly referred to as &quot;regex&quot;) to handle that small (but important) bug.</p> <h2 id="common-situations-with-arguments"><a href="#common-situations-with-arguments" class="header-anchor">#</a> Common situations with arguments</h2> <p>Here is where we'll be going over a few common situations where you'll want to make sure that an argument fits a certain criteria.</p> <h2 id="mentions"><a href="#mentions" class="header-anchor">#</a> Mentions</h2> <p>Using the example of a kick command, you most likely want it to allow the user to use the command and mention the person to kick, right? We won't actually be constructing the full kick command in this example, but here's how you can go about it:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'kick'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// grab the &quot;first&quot; mentioned user from the message</span>
	<span class="token comment">// this will return a `User` object, just like `message.author`</span>
	<span class="token keyword">const</span> taggedUser <span class="token operator">=</span> message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You wanted to kick: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>taggedUser<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And as you can see, it works!</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!kick <span class="discord-mention">
	@Tutorial Bot</span> <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		You wanted to kick: Tutorial Bot
	 <!----></div> </div></div></div> <p>But what happens if you try to use the command without mentioning anybody? If you try it yourself, you'll notice that the bot doesn't respond (due to it crashing), and you should see something like this in your console:</p> <div class="language- extra-class"><pre class="language-text"><code>message.channel.send(`You wanted to kick: ${taggedUser.username}`);
                                                      ^

TypeError: Cannot read property 'username' of undefined
</code></pre></div><p>That's because you're trying to access the <code>username</code> property of a user you didn't mention! Since <code>message.mentions.users</code> is a Collection and you're trying to call <code>.first()</code> on an empty Collection, it'll return <code>undefined</code>. You can add a quick coherence check above the <code>const taggedUser = ...</code> line to prevent this from happening.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'you need to tag a user in order to kick them!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you're wondering what <code>message.reply()</code> does, it's just an alternative for <code>message.channel.send()</code> which also prepends a mention of the person who sent the message, unless used in a DM. It can be very useful for providing feedback!</p></div> <p>Since <code>message.mentions.users</code> is a Collection, it has a <code>.size</code> property. If no users are mentioned, it'll return 0 (which is a <code>falsy</code> value), meaning you can do <code>if (!value)</code> to check if it's falsy.</p> <p>If you try again, it should work as expected.</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!kick
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> <span class="discord-mention">
	@User</span>, you need to tag a user to kick them!
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!kick <span class="discord-mention">
	@Tutorial Bot</span> <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		You wanted to kick: Tutorial Bot
	 <!----></div> </div></div></div> <h3 id="working-with-multiple-mentions"><a href="#working-with-multiple-mentions" class="header-anchor">#</a> Working with multiple mentions</h3> <p>Let's say you have some sort of <code>!avatar</code> command, where it'll display the avatar of all the mentioned users, or your own avatar if no users were mentioned. Focus on that 2nd part for now - how would you go about displaying your own avatar if no users were mentioned? Taking the snippet for the code you just used, you can do it just like this:</p> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'avatar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>displayAvatarURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'avatar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span><span class="token function">displayAvatarURL</span><span class="token punctuation">(</span><span class="token punctuation">{</span> format<span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> dynamic<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If the <code>dynamic</code> option is provided you will receive a <code>.gif</code> URL if the image is animated, otherwise it will fall back to the specified <code>format</code> or its default <code>.webp</code> if none is provided.</p></span> <p>That part is simple; just recycle the if statement you used in the section above and displaying the link to your avatar.</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!avatar
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		Your avatar:
		https://cdn.discordapp.com/avatars/328037144868290560/1cc0a3b14aec3499632225c708451d67.png
	 <!----></div> </div></div></div> <p>The next part is where it takes a turn - displaying the avatars of all the mentioned users. But it's simpler than you may think! <code>message.mentions.users</code> returns a Collection (as previously mentioned), which you can loop over in a number of different ways. You'll be using <code>.map()</code> to loop here, since it allows you to easily collect and store data in a variable in order to send 1 final message in the end, as opposed to multiple.</p> <span style="display:none;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'avatar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>displayAvatarURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> avatarList <span class="token operator">=</span> message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'s avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>displayAvatarURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// send the entire array of strings as a message</span>
	<span class="token comment">// by default, discord.js will `.join()` the array with `\n`</span>
	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>avatarList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></span> <span style="display:block;"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'avatar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span><span class="token function">displayAvatarURL</span><span class="token punctuation">(</span><span class="token punctuation">{</span> format<span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> dynamic<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> avatarList <span class="token operator">=</span> message<span class="token punctuation">.</span>mentions<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'s avatar: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span><span class="token function">displayAvatarURL</span><span class="token punctuation">(</span><span class="token punctuation">{</span> format<span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> dynamic<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// send the entire array of strings as a message</span>
	<span class="token comment">// by default, discord.js will `.join()` the array with `\n`</span>
	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>avatarList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If the <code>dynamic</code> option is provided you will receive a <code>.gif</code> URL if the image is animated, otherwise it will fall back to the specified <code>format</code> or its default <code>.webp</code> if none is provided.</p></span> <p>And ta-da! You now have a list of avatar links of all the users you tagged.</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!avatar <span class="discord-mention">
	@User</span> <span class="discord-mention">
	@Tutorialbot</span> <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		User's avatar:
		https://cdn.discordapp.com/avatars/328037144868290560/1cc0a3b14aec3499632225c708451d67.png<br>
		Tutorial Bot's avatar:
		https://cdn.discordapp.com/avatars/459757708720209940/d48f3d90d923e9531c02c6bb9850339f.png
	 <!----></div> </div></div></div> <p>It does take up a lot of screen, but this is just an example command anyway.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you're looking for a more advanced way to handle mentions as arguments you can check out <a href="../miscellaneous/parsing-mention-arguments.html">this guide</a>.</p></div> <h2 id="number-ranges"><a href="#number-ranges" class="header-anchor">#</a> Number ranges</h2> <p>Sometimes you'll want users to give you input that ranges from X to Y, but nothing outside of that. Additionally, you want to make sure that they do give you an actual number and not random characters. A good example of this would be a <code>!prune</code> command, where it deletes X messages in the channel, depending on what the user inputs.</p> <p>The first step would be to check if the input they gave is an actual number.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">'prune'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> amount <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'that doesn\'t seem to be a valid number.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And if you test it, it should work as expected.</p> <div class="discord-messages"><div class="discord-message"><div class="discord-author-avatar"><img src="../assets/img/discord-avatar-djs.cfe39c8b.png" alt="User"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				User
			</span> <!----></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> 
		!prune some-string
	 <!----></div> </div></div> <div class="discord-message"><div class="discord-author-avatar"><img src="../../cdn.discordapp.com/attachments/654503812593090602/665721745466195978/blue.png" alt="Tutorial Bot"></div> <div class="discord-message-content"><div><span class="discord-author-info"><span class="discord-author-username">
				Tutorial Bot
			</span> <span class="discord-bot-tag">
		Bot
	</span></span> <span class="discord-message-timestamp">
				01/08/2021
			</span></div> <div class="discord-message-body"><!----> <span class="discord-mention">
	@User</span>, that doesn't seem to be a valid number.
	 <!----></div> </div></div></div> <p>So what you need to do next is check if the first argument is between X and Y. Following the idea of a prune command, you'll most likely want to use the <code>.bulkDelete()</code> method, which allows you to delete multiple messages in one fell swoop.</p> <p>With that being said, that method does have its limits: you can only delete a minimum of 2 and a maximum of 100 messages (at a time). Fortunately, there are a few ways to deal with that. One of those ways would be to just check the value of the <code>amount</code> variable, like so:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'that doesn\'t seem to be a valid number.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>amount <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> amount <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> message<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'you need to input a number between 2 and 100.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...</span>
</code></pre></div><p>Now all that's left is to delete the messages! It's a simple single line of code:</p> <div class="language-js extra-class"><pre class="language-js"><code>message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">bulkDelete</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>And you've got a working prune command! Create a test channel, send a few random messages, and test it out.</p> <h3 id="caveats-2"><a href="#caveats-2" class="header-anchor">#</a> Caveats</h3> <p>You should note that there are actually a few caveats with the <code>.bulkDelete()</code> method. The first would be the trying to delete messages older than 2 weeks, which would normally error. Here's an easy fix for that:</p> <div class="language-js extra-class"><pre class="language-js"><code>message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">bulkDelete</span><span class="token punctuation">(</span>amount<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The second parameter in the <code>.bulkDelete()</code> method will filter out messages older than 2 weeks if you give it a truthy value. So if there are 50 messages and 25 of them are older than 2 weeks, it'll only delete the first 25 without throwing an error. However, if all the messages you're trying to delete are older than 2 weeks, then it will still throw an error. Knowing this, you should catch that error by chaining a <code>.catch()</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code>message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">bulkDelete</span><span class="token punctuation">(</span>amount<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'there was an error trying to prune messages in this channel!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you aren't familiar with the <code>.catch()</code> method, it's used to catch errors on Promises. Unsure what Promises are? Google around for more info!</p></div> <p>The other caveat with this is that the <code>!prune {number}</code> message you sent will also count towards the amount deleted. What this means is that if you send <code>!prune 2</code>, it'll delete that message and only one other. There are a couple ways around this, but we'll be taking the easiest route for the sake of the tutorial. Here are the edits to make to your current code:</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const amount = parseInt(args[0]);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const amount = parseInt(args[0]) + 1;
</span></span></code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> else if (amount &lt; 2 || amount &gt; 100) {
</span><span class="token prefix deleted">-</span><span class="token line">	return message.reply('you need to input a number between 2 and 100.');
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> else if (amount &lt;= 1 || amount &gt; 100) {
</span><span class="token prefix inserted">+</span><span class="token line">	return message.reply('you need to input a number between 1 and 99.');
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span></code></pre></div><h2 id="resulting-code"><a href="#resulting-code" class="header-anchor">#</a> Resulting code</h2> <p>
	If you want to compare your code to the code we've constructed so far, you can review it over on the GitHub repository
	<a href="https://github.com/discordjs/guide/tree/master/code-samples/" target="_blank" rel="noopener noreferrer">
		here <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/discordjs/guide/edit/master/guide/creating-your-bot/commands-with-user-input.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/22/2020, 4:30:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="adding-more-commands.html" class="prev">
        Adding more commands
      </a></span> <span class="next"><a href="../command-handling/index.html">
        Command handling
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="../assets/js/app.1b16820c.js" defer></script><script src="../assets/js/4.58143105.js" defer></script><script src="../assets/js/42.b84d3fd9.js" defer></script><script src="../assets/js/16.e90c1593.js" defer></script><script src="../assets/js/22.549d06f2.js" defer></script><script src="../assets/js/6.1ed8886a.js" defer></script>
  </body>

<!-- Mirrored from discordjs.guide/creating-your-bot/commands-with-user-input.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Jan 2021 09:04:59 GMT -->
</html>
